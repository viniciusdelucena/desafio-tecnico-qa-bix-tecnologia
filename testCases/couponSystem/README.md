# Test Cases for Discount Coupon System

This document outlines the test cases for the discount coupon functionality of the BIX Mini E-commerce application. These tests verify the application of different coupon types, validation logic, and the accuracy of cart calculations.

## 1. Valid Coupon Application and Calculation

| Test ID | Test Title | Preconditions | Execution Steps | Expected Result | Priority |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **COUPON-01** | **Apply a valid percentage discount coupon** | User `user@test.com` is logged in.<br>The shopping cart is empty. | 1. Locate the "Keyboard" product.<br>2. In the quantity field, enter `1`.<br>3. Click the "Adicionar" (Add) button.<br>4. In the "Código do cupom" field, enter `WELCOME10`.<br>5. Click the "Aplicar Cupom" (Apply Coupon) button. | The subtotal must be `R$ 199,90`.<br>A discount of `R$ 19,99` (10%) must be displayed.<br>The final total must be correctly calculated as `R$ 179,91`. | **High** |
| **COUPON-02** | **Apply a valid fixed value discount coupon** | User `user@test.com` is logged in.<br>The shopping cart is empty. | 1. Locate the "Keyboard" product.<br>2. In the quantity field, enter `1`.<br>3. Click the "Adicionar" (Add) button.<br>4. In the "Código do cupom" field, enter `FIXED50`.<br>5. Click the "Aplicar Cupom" (Apply Coupon) button. | The subtotal must be `R$ 199,90`.<br>A discount of `R$ 50,00` must be displayed.<br>The final total must be correctly calculated as `R$ 149,90`. | **High** |
| **COUPON-03** | **Coupon discount recalculates correctly when cart is updated**| User `user@test.com` is logged in.<br>The shopping cart is empty. | 1. Locate the "Keyboard" product.<br>2. In the quantity field, enter `1`.<br>3. Click the "Adicionar" (Add) button.<br>4. In the "Código do cupom" field, enter `WELCOME10`.<br>5. Click the "Aplicar Cupom" (Apply Coupon) button.<br>6. Locate the "Mouse" product.<br>7. In the quantity field, enter `1`.<br>8. Click the "Adicionar" (Add) button. | The subtotal must update to `R$ 299,40` (199.90 + 99.50).<br>The 10% discount must be recalculated to `R$ 29,94`.<br>The final total must update to `R$ 269,46`. | **Medium**|
| **COUPON-04** | **Switch from one valid coupon to another** | User `user@test.com` is logged in.<br>The shopping cart is empty. | 1. Locate the "Keyboard" product.<br>2. In the quantity field, enter `1`.<br>3. Click the "Adicionar" (Add) button.<br>4. In the "Código do cupom" field, enter `WELCOME10`.<br>5. Click the "Aplicar Cupom" (Apply Coupon) button.<br>6. In the "Código do cupom" field, replace the text with `SAVE20`.<br>7. Click the "Aplicar Cupom" (Apply Coupon) button. | The subtotal remains `R$ 199,90`.<br>The discount is replaced and recalculated to `R$ 39,98` (20%).<br>The final total must be updated to `R$ 159,92`. | **Medium**|

## 2. Coupon Validation

| Test ID | Test Title | Preconditions | Execution Steps | Expected Result | Priority |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **COUPON-05** | **Attempt to apply an expired coupon** | User `user@test.com` is logged in.<br>The shopping cart is empty. | 1. Locate the "Mouse" product.<br>2. In the quantity field, enter `1`.<br>3. Click the "Adicionar" (Add) button.<br>4. In the "Código do cupom" field, enter `EXPIRED`.<br>5. Click the "Aplicar Cupom" (Apply Coupon) button. | A clear error message must be displayed (e.g., "Cupom expirado").<br>The discount and total values must not change. | **High** |
| **COUPON-06** | **Attempt to apply a non-existent coupon** | User `user@test.com` is logged in.<br>The shopping cart is empty. | 1. Locate the "Mouse" product.<br>2. In the quantity field, enter `1`.<br>3. Click the "Adicionar" (Add) button.<br>4. In the "Código do cupom" field, enter `INVALID123`.<br>5. Click the "Aplicar Cupom" (Apply Coupon) button. | A clear error message must be displayed (e.g., "Cupom inválido").<br>The discount and total values must not change. | **High** |
| **COUPON-07** | **Attempt to apply a coupon to an empty cart** | User `user@test.com` is logged in.<br>The shopping cart is empty. | 1. In the "Código do cupom" field, enter `WELCOME10`.<br>2. Click the "Aplicar Cupom" (Apply Coupon) button. | An error message must be displayed, indicating that the cart is empty.<br>The coupon field may be cleared. | **Low** |